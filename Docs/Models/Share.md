

# LOE\Share

A Share object extends [LOE\Base](../../Base.md) and represents an instance of a model object having been shared publicly.

`public function __construct($UID = null)`

## Requirements

* [StrUtilities]() -- Generates random words used for creating secrets

## Properties

### const TABLE:string

The name of the database table that stores these records.

### public UID:int
The unique identifier for this record. Used to instantiate a specific object. If a new object is instantiated without providing a `$UID`, a blank object will be generated.

### public userId:int

The `$UID` of the [User]() who created this object.

### public modelId:int

The `$UD` of the [Model](./Model.md) being shared.

### public objectId:int

The `$UID` for the specific model object being shared.

### public created_date:datetime

The datetime that this object was created.

### public token:string

A [JWT](https://jwt.io/) string that represents this object. A client can present this token to the [LOE Service](https://github.com/outlawdesigns-io/LOEService) for decoding.

### public secret:string

The secret used to decode this object's `$token`

### public expiration_date:datetime

The datetime at which this object's `$token` will expire. After this date, the [LOE Service](https://github.com/outlawdesigns-io/LOEService) will refuse to decode it.

## Methods

### public static generateSecret():string

Randomly generates a unique secret by hashing a set of words generated by [StrUtilities]().

### public static isSecretUnique($secret:string):boolean

Verifies that the string passed as the `$secret` argument is not associated with an existing share.

### public static buildShare($userId:int, $modelId:int, $objectId:int):Object< self >

Returns a share object based on the arguments provided.

### public static getSecret($token:string):string

Returns the `$secret` associated with the string provided through the `$token` argument.

### public static decodeToken($token:string, $secret:string):Object< any >

Returns the model object associated with the strings provided through the `$token` and `$secret` arguments.

## Usage

```
print_r(Share::buildShare($userId,$modelId,$objectId));
```
